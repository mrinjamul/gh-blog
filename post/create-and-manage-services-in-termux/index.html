<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width"><script type=application/javascript src=https://mrinjamul.github.io/gh-blog/js/theme-mode.js></script><link rel=stylesheet href=https://mrinjamul.github.io/gh-blog/css/frameworks.min.css><link rel=stylesheet href=https://mrinjamul.github.io/gh-blog/css/github.min.css><link rel=stylesheet href=https://mrinjamul.github.io/gh-blog/css/github-style.css><link rel=stylesheet href=https://mrinjamul.github.io/gh-blog/css/light.css><link rel=stylesheet href=https://mrinjamul.github.io/gh-blog/css/dark.css><link rel=stylesheet href=https://mrinjamul.github.io/gh-blog/css/syntax.css><title>Create and Manage services in Termux - mrinjamul's blog</title><link rel=icon type=image/x-icon href=/images/github.png><meta name=theme-color content="#1e2327"><meta name=description content="In this post, I will show you how to create and manage services in Termux.
Termux is an Android terminal emulator and Linux environment app that works directly with no rooting or setup required.  Termux uses runit as its init system.
“runit is a cross-platform Unix init scheme with service supervision, a replacement for sysvinit, and other init schemes.”  pkg install termux-services Then restart Termux so that the service-daemon is started."><meta name=keywords content="blog"><meta name=robots content="noodp"><link rel=canonical href=https://mrinjamul.github.io/gh-blog/post/create-and-manage-services-in-termux/><meta name=twitter:card content="summary"><meta name=twitter:title content="Create and Manage services in Termux - mrinjamul's blog"><meta name=twitter:description content="In this post, I will show you how to create and manage services in Termux.
Termux is an Android terminal emulator and Linux environment app that works directly with no rooting or setup required.  Termux uses runit as its init system.
“runit is a cross-platform Unix init scheme with service supervision, a replacement for sysvinit, and other init schemes.”  pkg install termux-services Then restart Termux so that the service-daemon is started."><meta name=twitter:site content="https://mrinjamul.github.io/gh-blog"><meta name=twitter:creator content><meta name=twitter:image content="https://mrinjamul.github.io/gh-blog"><meta property="og:type" content="article"><meta property="og:title" content="Create and Manage services in Termux - mrinjamul's blog"><meta property="og:description" content="In this post, I will show you how to create and manage services in Termux.
Termux is an Android terminal emulator and Linux environment app that works directly with no rooting or setup required.  Termux uses runit as its init system.
“runit is a cross-platform Unix init scheme with service supervision, a replacement for sysvinit, and other init schemes.”  pkg install termux-services Then restart Termux so that the service-daemon is started."><meta property="og:url" content="https://mrinjamul.github.io/gh-blog/post/create-and-manage-services-in-termux/"><meta property="og:site_name" content="Create and Manage services in Termux"><meta property="og:image" content="https://mrinjamul.github.io/gh-blog"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2021-02-09 19:10:43 +0530 +0530"></head><body><div style=position:relative><header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on"><div class="Header-item mobile-none" style=margin-top:-4px;margin-bottom:-4px><a class=Header-link href=https://mrinjamul.github.io/gh-blog><svg class="octicon" height="32" viewBox="0 0 16 16" width="32"><path fill-rule="evenodd" d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.013 8.013.0 0016 8c0-4.42-3.58-8-8-8z"/></svg></a></div><div class="Header-item d-md-none"><button class="Header-link btn-link js-details-target" type=button onclick="document.querySelector('#header-search').style.display=document.querySelector('#header-search').style.display=='none'?'block':'none'"><svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M1 2.75A.75.75.0 011.75 2h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 2.75zm0 5A.75.75.0 011.75 7h12.5a.75.75.0 110 1.5H1.75A.75.75.0 011 7.75zM1.75 12a.75.75.0 100 1.5h12.5a.75.75.0 100-1.5H1.75z"/></svg></button></div><div style=display:none id=header-search class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex"><div class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to"><div class=position-relative><form target=_blank action=https://www.google.com/search accept-charset=utf-8 method=get autocomplete=off><label class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center"><input type=text class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable" name=q placeholder=Search autocomplete=off>
<input type=hidden name=q value=site:https://mrinjamul.github.io/gh-blog></label></form></div></div></div><div class="Header-item Header-item--full flex-justify-center d-md-none position-relative"><a class=Header-link href=https://mrinjamul.github.io/gh-blog><svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" width="32"><path fill-rule="evenodd" d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.013 8.013.0 0016 8c0-4.42-3.58-8-8-8z"/></svg></a></div><div class=Header-item style=margin-right:0><a href=javascript:void(0) class="Header-link no-select" onclick=switchTheme()><svg style="fill:var(--color-profile-color-modes-toggle-moon)" class="no-select" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.52208 7.71754c3.05612.0 5.53362-2.47748 5.53362-5.5336C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961 9.95801 1.07727 10.3495.771159 10.6474.99992c1.4679 1.12724 2.4141 2.90007 2.4141 4.89391.0 3.40575-2.7609 6.16667-6.16665 6.16667-2.94151.0-5.40199-2.0595-6.018122-4.81523C.794841 6.87902 1.23668 6.65289 1.55321 6.85451 2.41106 7.40095 3.4296 7.71754 4.52208 7.71754z"/></svg></a></div></header></div><div><main><div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4"><div class=px-0><div class="mb-3 d-flex px-3 px-md-3 px-lg-5"><div class="flex-auto min-width-0 width-fit mr-3"><div class=d-flex><div class="d-none d-md-block"><a class="avatar mr-2 flex-shrink-0" href=https://mrinjamul.github.io/gh-blog><img class=avatar-user src=https://mrinjamul.github.io/gh-blog/images/avatar.png width=32 height=32></a></div><div class="d-flex flex-column"><h1 class="break-word f3 text-normal mb-md-0 mb-1"><span class=author><a href=https://mrinjamul.github.io/gh-blog>Injamul Mohammad Mollah</a></span><span class=path-divider>/</span><strong class="css-truncate-target mr-1" style=max-width:410px><a href=https://mrinjamul.github.io/gh-blog/post/create-and-manage-services-in-termux/>Create and Manage services in Termux</a></strong></h1><div class="note m-0">Created <relative-time datetime="Tue, 09 Feb 2021 19:10:43 +0530" class=no-wrap>Tue, 09 Feb 2021 19:10:43 +0530</relative-time>
<span class=file-info-divider></span>Modified <relative-time datetime="Mon, 21 Jun 2021 12:08:10 +0000" class=no-wrap>Mon, 21 Jun 2021 12:08:10 +0000</relative-time></div></div></div></div></div></div></div><div class="container-lg px-3 new-discussion-timeline"><div class="repository-content gist-content"><div><div class="js-gist-file-update-container js-task-list-container file-box"><div id=file-pytest class="file my-2"><div class="file-header d-flex flex-md-items-center flex-items-start"><div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto"><div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">303 Words</div><div class="file-actions flex-order-2 pt-0"><a class="muted-link mr-3" href=/gh-blog/tags/termux><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>termux</a>
<a class="muted-link mr-3" href=/gh-blog/tags/services><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>services</a>
<a class="muted-link mr-3" href=/gh-blog/tags/cli><svg class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25.0 01.25-.25h5.025a.25.25.0 01.177.073l6.25 6.25a.25.25.0 010 .354l-5.025 5.025a.25.25.0 01-.354.0l-6.25-6.25A.25.25.0 012.5 7.775zm-1.5.0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464.0.91.184 1.238.513l6.25 6.25a1.75 1.75.0 010 2.474l-5.026 5.026a1.75 1.75.0 01-2.474.0l-6.25-6.25A1.75 1.75.0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"/></svg>cli</a></div></div></div><div class="Box-body px-5 pb-5"><article class="markdown-body entry-content container-lg"><p>In this post, I will show you how to create and manage services in Termux.</p><pre><code>Termux is an Android terminal emulator and Linux environment app
that works directly with no rooting or setup required.
</code></pre><p>Termux uses <code>runit</code> as its init system.</p><pre><code>“runit is a cross-platform Unix init scheme with service supervision,
a replacement for sysvinit, and other init schemes.”
</code></pre><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>pkg install termux-services
</code></pre></div><p>Then restart Termux so that the service-daemon is started.</p><p>Now let&rsquo;s create a service,</p><p>I am going create a service for <a href=https://github.com/gogs/gogs>gogs</a> (a git service).</p><p>All termux services are located at <code>$PREFIX/var/service</code> (<code>$PREFIX=$HOME/../usr</code>).</p><p>Create a folder for the service and name it as the application name. In my case that is <code>gogs</code>.</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>mkdir <span class=nv>$PREFIX</span>/var/service/gogs
</code></pre></div><p>Then create a symbolic link with termux-logger.</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>mkdir <span class=nv>$PREFIX</span>/var/service/gogs/log

ln -sf <span class=nv>$PREFIX</span>/share/termux-services/svlogger <span class=nv>$PREFIX</span>/service/gogs/log/run
</code></pre></div><p>Now write the service file for the application with the below content,</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>touch <span class=nv>$PREFIX</span>/var/service/gogs/run
</code></pre></div><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh><span class=c1># Gogs service for termux</span>
<span class=c1>#!/data/data/com.termux/files/usr/bin/sh</span>
<span class=nb>exec</span> gogs web 2&gt;<span class=p>&amp;</span><span class=m>1</span>
</code></pre></div><p>You can get help to write runit service here.</p><p>make it executable,</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>chmod +x <span class=nv>$PREFIX</span>/var/service/gogs/run
</code></pre></div><p>Now restart Termux and run,</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>sv up gogs
</code></pre></div><p>It will work smoothly.</p><p>Here are some useful commands about termux services,</p><p>To enable service to start at boot,</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>sv-enable &lt;service&gt;
</code></pre></div><p>To disable from starting at boot,</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>sv-disable &lt;service&gt;
</code></pre></div><p>To start a service,</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>sv up &lt;service&gt;
</code></pre></div><p>To stop a service,</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>sv down &lt;service&gt;
</code></pre></div><p><strong>Bonus Topic: Manage proot(s) in Termux</strong></p><p>You can install multiple Linux based distributions using proot-distro ,</p><p>Lists supported distributions and their installation status,</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>proot-distro list
</code></pre></div><p>To install a distribution,</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>proot-distro install &lt;distro name&gt;
</code></pre></div><p>To login into a distribution,</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>proot-distro login &lt;distro name&gt;
</code></pre></div><p>Delete a distribution from Termux,</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>proot-distro remove &lt;distro name&gt;
</code></pre></div><p>To reinstall a specified distribution,</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>proot-distro reset &lt;distro name&gt;
</code></pre></div><p>To backup a distribution,</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>proot-distro backup &lt;distro name&gt;
</code></pre></div><p>To restore a distribution from backup,</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>proot-distro restore &lt;distro name&gt;
</code></pre></div><p>This post also published on <a href=https://medium.com/tech-thinker/create-and-manage-services-in-termux-linux-based-android-terminal-5120c4694199>Medium</a>.</p></article></div></div></div></div></div></div></main></div><div class="footer container-xl width-full p-responsive"><div class="position-relative
d-flex
flex-row-reverse
flex-lg-row
flex-wrap
flex-lg-nowrap
flex-justify-center
flex-lg-justify-between
flex-sm-items-center
pt-6
pb-2
mt-6
f6
text-gray
border-top border-gray-light"><a aria-label=Homepage title=GitHub class="footer-octicon d-none d-lg-block mr-lg-4" href=https://mrinjamul.github.io/gh-blog><svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.013 8.013.0 0016 8c0-4.42-3.58-8-8-8z"/></svg></a><ul class="list-style-none
d-flex
flex-wrap
col-12
flex-justify-center flex-lg-justify-between
mb-2 mb-lg-0"><li class="mr-3 mr-lg-0">Copyright &copy; 2021 mrinjamul | All right reversed</li></ul></div><div class="d-flex flex-justify-center pb-6"><span class="f6 text-gray-light"></span></div></div></body><script type=application/javascript src=https://mrinjamul.github.io/gh-blog/js/github-style.js></script></html>